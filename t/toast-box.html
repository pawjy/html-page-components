<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Test</title>
</head>
<body>
  <test-code name="autoclose">
    var e = document.createElement ('toast-box');
    e.setAttribute ('style', '--paco-toast-autoclose:10ms');
    this.currentScript.appendChild (e);

    await this.wait (100);

    this.assert.equal (e.parentNode, null);
  </test-code>
  
  <test-code name="pcClose">
    /*
      <toast-box>ABC</toast-box>
    */
    var e = this.currentScript.querySelector ('toast-box');
    this.assert.equal (!!e.parentNode, true);

    e.pcClose ();
    
    this.assert.equal (e.parentNode, null);
  </test-code>
  
  <test-code name="close button">
    /*
      <toast-box>
        <p><button is=toast-close-button>Button</button></p>
      </toast-box>
    */
    var e = this.currentScript.querySelector ('toast-box');
    this.assert.equal (!!e.parentNode, true);

    e.querySelector ('button').click ();
    
    this.assert.equal (e.parentNode, null);
  </test-code>
  
  <test-code name="close event">
    /*
      <toast-box>
        <p></p>
      </toast-box>
    */
    var e = this.currentScript.querySelector ('toast-box');
    this.assert.equal (!!e.parentNode, true);

    e.firstElementChild.dispatchEvent (new Event ('pcDone', {bubbles: true}));
    
    this.assert.equal (e.parentNode, null);
  </test-code>

  <script src=runtests.js data-export=$paco></script>
</body>
</html>
<!--

Per CC0 <https://creativecommons.org/publicdomain/zero/1.0/>, to the
extent possible under law, the author has waived all copyright and
related or neighboring rights to this work.

-->
